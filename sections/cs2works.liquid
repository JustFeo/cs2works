<div class="glove-layout-wrapper">
  <div class="glove-column">
    <div class="product-header">
      <div class="product-info-box">
        <h1 class="product-title">Sir Bloody Miami Darryl Figure</h1>
        <div class="product-price">$278.00 USD</div>
        <div class="free-delivery-message">Free Shipping On All Orders</div>
      </div>
    </div>

    <div class="glove-options product-form__input--pill">
      <input type="radio" id="glove-pandora" name="glove" value="pandora" checked>
      <label for="glove-pandora">Pandora's Box</label>
      <input type="radio" id="glove-vice" name="glove" value="vice">
      <label for="glove-vice">Vice</label>
      <input type="radio" id="glove-hedge" name="glove" value="hedge">
      <label for="glove-hedge">Hedge Maze</label>
    </div>

  <!-- replace your current .quantity-selector inner HTML with this -->
<div class="quantity-selector">
  <div class="quantity-label">Quantity</div>
  <div class="quantity-controls">
    <button type="button" class="quantity-btn" id="qty-decrease" disabled>−</button>
    <span        class="quantity-value" id="qty-value">1</span>
    <button type="button" class="quantity-btn" id="qty-increase">+</button>
  </div>
</div>

    <div class="preorder-buttons">
      <button class="btn-preorder">Pre-Order</button>
      <button class="btn-crypto">Pre-Order With Crypto &amp; Save $30</button>
    </div>

    <div class="limited-edition-badge">
      <div class="limited-flash">
        <span class="gold-star">★</span>
        <span class="limited-text">LIMITED EDITION</span>
      </div>
      <div class="subtext">
        Only 1000 will ever exist, each marked with a unique number.
      </div>
    </div>
  </div>

  <div class="glove-viewer">
    <div id="viewer-container" class="viewer-container">
      <img id="viewer-img" src="https://cdn.shopify.com/s/files/1/0745/6482/9415/files/MiamiDarrylFigurine_PandorasBox_1.jpg?v=1750332619" alt="Figurine Image" class="viewer-img" loading="eager" />
  <!-- ─── change TO ─── -->
<div class="viewer-controls">
  <!-- overlay arrows (show on hover) -->
  <button id="prevBtn" class="overlay-nav arrow-left"  aria-label="Previous image">&#8249;</button>
  <span id="image-caption" class="image-caption"></span>
  <button id="nextBtn" class="overlay-nav arrow-right" aria-label="Next image">&#8250;</button>

  <!-- progress pills -->
  <div id="dotContainer" class="dot-container"></div>
</div>\

    </div>

    <div class="viewer-info-container">
      <div class="viewer-info-display">
        <div class="preview-title">View Figure With:</div>
        <span id="prevName" class="blurred-name clickable-name"></span>
        <span id="currentName" class="active-name clickable-name"></span>
        <span id="nextName" class="blurred-name clickable-name"></span>
      </div>

      <div class="figure-info">
        <div class="figure-text">Figure Includes All Accessories</div>
        <img id="accessory-img" class="glove-image" src="https://cdn.shopify.com/s/files/1/0745/6482/9415/files/MMiamiDarrylFigurine_Accessories_1.jpg?v=1750332832" />
      </div>
    </div>

    <div id="lightbox" class="lightbox">
      <span class="close-lightbox" onclick="closeLightbox()">×</span>
      <div class="lightbox-content">
        <img id="lightbox-img" src="" alt="Large View" />
        <div class="lightbox-instruction">← Use Arrow Keys →</div>
      </div>
    </div>
  </div>
</div>

<style>
body {
  background: linear-gradient(120deg, #f6f7fb 0%, #e9eaf3 100%);
  font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
  color: #18181b;
}

.glove-layout-wrapper {
  display: flex;
  justify-content: center;
  align-items: flex-start;
  gap: 64px;
  margin: 60px auto 0 auto;
  max-width: 1200px;
  padding: 40px 24px;
  background: rgba(255,255,255,0.95);
  border-radius: 32px;
  box-shadow: 0 8px 40px rgba(0,0,0,0.08);
}

.glove-viewer {
  flex: 1 1 520px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  min-width: 340px;
}
.viewer-container {
  background: #fff;
  border-radius: 32px;
  box-shadow: 0 8px 32px rgba(0,0,0,0.10);
  padding: 32px 32px 24px 32px;
  margin-bottom: 24px;
  display: flex;
  flex-direction: column;
  align-items: center;
}
.viewer-img {
  width: 420px;
  max-width: 90vw;
  border-radius: 24px;
  box-shadow: 0 4px 32px rgba(0,0,0,0.13);
  background: #f3f3f7;
  margin-bottom: 16px;
}
.viewer-controls {
  margin-top: 0;
  gap: 2.5rem;
}
.overlay-nav {
  width: 48px;
  height: 48px;
  font-size: 2.4rem;
  background: #f6f7fb;
  color: #7c7c8a;
  border: none;
  border-radius: 50%;
  box-shadow: 0 2px 8px rgba(0,0,0,0.10);
  transition: background 0.2s, color 0.2s;
}
.overlay-nav:hover {
  background: #e0e0f0;
  color: #5a3cff;
}
.image-caption {
  font-size: 1.15rem;
  color: #444;
  min-width: 180px;
  text-align: center;
  font-family: 'Inter', sans-serif;
  font-weight: 500;
}

.glove-column {
  flex: 1 1 420px;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 2.5rem;
  min-width: 320px;
}
.product-header {
  width: 100%;
  margin-bottom: 0.5rem;
}
.product-title {
  font-size: 2.6rem;
  font-weight: 800;
  margin-bottom: 0.2rem;
  letter-spacing: -0.5px;
  color: #18181b;
}
.product-price {
  font-size: 2rem;
  font-weight: 700;
  color: #6b6b7b;
  font-style: italic;
  margin-bottom: 0.5rem;
}
.free-delivery-message {
  font-size: 1.1rem;
  font-weight: 700;
  color: #2CA305;
  margin-bottom: 1.2rem;
}
.product-info-box {
  border-bottom: 1.5px solid #e0e0e0;
  padding-bottom: 1.2rem;
  margin-bottom: 1.2rem;
}

.glove-options {
  display: flex;
  flex-direction: column;
  gap: 0.7rem;
  width: 100%;
  margin-bottom: 1.2rem;
}
.glove-options label {
  display: block;
  width: 100%;
  padding: 1.2rem 1.5rem;
  border-radius: 16px;
  background: #f6f7fb;
  color: #18181b;
  font-size: 1.15rem;
  font-weight: 600;
  border: 2px solid transparent;
  cursor: pointer;
  transition: background 0.18s, border 0.18s, color 0.18s;
  margin-bottom: 0;
}
.glove-options input[type='radio']:checked + label {
  background: linear-gradient(90deg, #a084ff 0%, #6f4cff 100%);
  color: #fff;
  border: 2px solid #6f4cff;
  box-shadow: 0 2px 12px rgba(111,76,255,0.10);
}
.glove-options input[type='radio']:hover + label {
  background: #ecebff;
  color: #6f4cff;
}

.quantity-selector {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  margin-bottom: 1.5rem;
  width: 100%;
}
.quantity-label {
  font-size: 1.1rem;
  font-weight: 700;
  margin-bottom: 0.7rem;
  color: #18181b;
}
.quantity-controls {
  display: flex;
  align-items: center;
  gap: 1.2rem;
}
.quantity-btn {
  width: 40px;
  height: 40px;
  border-radius: 12px;
  background: #f6f7fb;
  color: #6f4cff;
  font-size: 1.5rem;
  font-weight: 700;
  border: none;
  transition: background 0.18s, color 0.18s;
}
.quantity-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}
.quantity-btn:hover:not(:disabled) {
  background: #e0e0f0;
  color: #5a3cff;
}
.quantity-value {
  font-size: 1.3rem;
  font-weight: 700;
  color: #18181b;
  min-width: 32px;
  text-align: center;
}

.preorder-buttons {
  display: flex;
  flex-direction: column;
  gap: 1.1rem;
  width: 100%;
  margin-bottom: 1.2rem;
}
.btn-preorder, .btn-crypto {
  width: 100%;
  padding: 1.3rem 0;
  font-size: 1.25rem;
  font-weight: 700;
  border-radius: 14px;
  border: none;
  cursor: pointer;
  transition: background 0.18s, color 0.18s, box-shadow 0.18s;
  box-shadow: 0 2px 12px rgba(111,76,255,0.08);
}
.btn-preorder {
  background: linear-gradient(90deg, #18181b 0%, #3a3a4d 100%);
  color: #fff;
}
.btn-preorder:hover {
  background: linear-gradient(90deg, #6f4cff 0%, #a084ff 100%);
  color: #fff;
}
.btn-crypto {
  background: linear-gradient(90deg, #a084ff 0%, #6f4cff 100%);
  color: #fff;
}
.btn-crypto:hover {
  background: linear-gradient(90deg, #6f4cff 0%, #a084ff 100%);
  color: #fff;
}

.limited-edition-badge {
  display: flex;
  flex-direction: column;
  align-items: center;
  background: linear-gradient(90deg, #f6e27a 0%, #d4af37 100%);
  border-radius: 16px;
  box-shadow: 0 2px 12px rgba(212,175,55,0.18);
  padding: 18px 32px 12px 32px;
  margin: 2.2rem 0 0 0;
  width: 100%;
  max-width: 420px;
  border: 1.5px solid #e0c96a;
}
.limited-flash {
  display: flex;
  align-items: center;
  gap: 0.7rem;
  margin-bottom: 0.5rem;
}
.gold-star {
  font-size: 1.5rem;
  color: #b8860b;
  text-shadow: 0 0 8px #f6e27a;
  animation: star-rotate 4s linear infinite;
}
.limited-text {
  font-size: 1.1rem;
  font-weight: 800;
  color: #b8860b;
  letter-spacing: 0.04em;
  text-shadow: 0 0 4px #fffbe6;
  animation: flashbang 1.5s ease-in-out infinite;
}
.subtext {
  font-size: 1rem;
  color: #7c7c8a;
  font-style: italic;
  text-align: center;
}
@keyframes star-rotate {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
@keyframes flashbang {
  0%   { filter: brightness(100%); color: #b8860b; }
  50%  { filter: brightness(160%); color: #ffcc00; }
  100% { filter: brightness(100%); color: #b8860b; }
}

@media (max-width: 900px) {
  .glove-layout-wrapper {
    flex-direction: column;
    gap: 32px;
    padding: 24px 8px;
  }
  .viewer-img {
    width: 98vw;
    max-width: 98vw;
  }
  .glove-column, .glove-viewer {
    min-width: 0;
    width: 100%;
  }
  .limited-edition-badge {
    max-width: 100%;
    padding: 14px 8px 8px 8px;
  }
}
</style>


<script>
/* -----------------------------------------------------------
   1. Tiny header-message click (unchanged)
----------------------------------------------------------- */
document.addEventListener('DOMContentLoaded', () => {
  const deliveryMessage = document.querySelector('.free-delivery-message');
  if (deliveryMessage) {
    deliveryMessage.addEventListener('click', () =>
      deliveryMessage.classList.toggle('clicked')
    );
  }
});

/* -----------------------------------------------------------
   2. MAIN LOGIC
----------------------------------------------------------- */
document.addEventListener('DOMContentLoaded', () => {

  /* ---------- 2-A. Light-box + zoom engine ---------- */
  const accessoryImg = document.getElementById('accessory-img');
  const viewerImg    = document.getElementById('viewer-img');

  const lightbox     = document.getElementById('lightbox');
  const lightboxImg  = document.getElementById('lightbox-img');
  const closeBtn     = document.querySelector('.close-lightbox');

  let zoomed = false;
  const openBox  = src => { lightboxImg.src = src; lightbox.classList.add('active'); resetZoom(); };
  const closeBox = ()   => { lightbox.classList.remove('active'); resetZoom(); };
  const resetZoom = ()  => { lightboxImg.style.transform='scale(1)'; zoomed=false; };

  viewerImg   && viewerImg  .addEventListener('click', () => openBox(viewerImg.src));
  accessoryImg&& accessoryImg.addEventListener('click', e => openBox(e.target.src));

  closeBtn    && closeBtn.addEventListener   ('click', closeBox);
  lightbox.addEventListener('click', e => { if (e.target === lightbox) closeBox(); });

  lightboxImg.addEventListener('click', e => {
    if (!zoomed) {
      const r = lightboxImg.getBoundingClientRect();
      const x = ((e.clientX - r.left) / r.width ) * 100;
      const y = ((e.clientY - r.top ) / r.height) * 100;
      lightboxImg.style.transformOrigin = `${x}% ${y}%`;
      lightboxImg.style.transform       = 'scale(2)';
      zoomed = true;
    } else resetZoom();
  });

  document.addEventListener('keydown', e => {
    if (!lightbox.classList.contains('active')) return;
    if (e.key === 'Escape')     return closeBox();
    if (e.key === 'ArrowLeft')  { prevBtn.click();  e.preventDefault(); }
    if (e.key === 'ArrowRight') { nextBtn.click();  e.preventDefault(); }
  });

  /* ---------- 2-B. IMAGE DATA ---------- */
  const urls = {
    vice: [
      "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/MiamiDarrylFigurine_ViceGloves_1.jpg?v=1750332554",
      "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/vice_fade.jpg?v=1749907969",
      "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/vice_arabesque.jpg?v=1749907724",
      "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/vice_hotrod.jpg?v=1749907940",
      "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/vice_bluephosphor.jpg?v=1749907774",
      "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/vice_ruby.jpg?v=1749907792",
      "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/vice_emerald.jpg?v=1749908821",
      "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/vice_sapphire.jpg?v=1750008665"
    ],
    pandora: [
      "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/MiamiDarrylFigurine_PandorasBox_1.jpg?v=1750332619",
      "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/pandora_fade.jpg?v=1749907926",
      "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/pandora_arabesque.jpg?v=1749918916",
      "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/pandora_hotrod.jpg?v=1749907952",
      "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/pandora_bluephosphor.jpg?v=1749907839",
      "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/pandora_ruby.jpg?v=1749908644",
      "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/pandora_emerald.jpg?v=1749907913",
      "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/pandora_sapphire.jpg?v=1750008691"
    ],
    hedge: [
      "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/MiamiDarrylFigurine_HedgeMaze_1.jpg?v=1750332352",
      "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/hedge_fade.jpg?v=1749907822",
      "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/hedge_arabesque.jpg?v=1749907808",
      "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/hedge_hotrod.jpg?v=1749908427",
      "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/hedge_bluephosphor.jpg?v=1749907985",
      "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/hedge_ruby.jpg?v=1749908002",
      "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/hedge_emerald.jpg?v=1749908692",
      "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/hedge_sapphire.jpg?v=1750008689"
    ]
  };

  const gloves = {
    vice:    ["Vice Gloves", "AWP | Fade", "AK-47 | Gold Arabesque", "M4A1-S | Hot Rod", "M4A1-S | Blue Phosphor", "★ Karambit | Ruby", "★ Karambit | Emerald", "★ M9 Bayonet | Sapphire"],
    pandora: ["Pandora's Box Gloves", "AWP | Fade", "AK-47 | Gold Arabesque", "M4A1-S | Hot Rod", "M4A1-S | Blue Phosphor", "★ Karambit | Ruby", "★ Karambit | Emerald", "★ M9 Bayonet | Sapphire"],
    hedge:   ["Hedge Maze Gloves", "AWP | Fade", "AK-47 | Gold Arabesque", "M4A1-S | Hot Rod", "M4A1-S | Blue Phosphor", "★ Karambit | Ruby", "★ Karambit | Emerald", "★ M9 Bayonet | Sapphire"]
  };

  /* ---------- 2-C. State ---------- */
  let currentGlove = 'pandora';
  let currentSet   = urls[currentGlove];
  let nameSet      = gloves[currentGlove];
  let index        = 0;

/* ─── change TO ─── */
const imageCounter  = document.getElementById('imageCounter');
const dotContainer  = document.getElementById('dotContainer');   // NEW
const currentName   = document.getElementById('currentName');
const prevName      = document.getElementById('prevName');
const nextName      = document.getElementById('nextName');
  
  const prevBtn       = document.getElementById('prevBtn');
  const nextBtn       = document.getElementById('nextBtn');

  /* ─── add right AFTER the DOM-ref block ─── */
function buildDots(){
  dotContainer.innerHTML = '';
  currentSet.forEach((_, i) =>{
    const d = document.createElement('span');
    d.className = 'dot' + (i === index ? ' active' : '');
    d.addEventListener('click', () => { index = i; updateImage(); });
    dotContainer.appendChild(d);
  });
}

  /* ---------- 2-E. Render helper ---------- */
  function updateImage() {
    viewerImg.classList.add('animate');
    setTimeout(() => {
      viewerImg.src   = currentSet[index];
      if (lightbox.classList.contains('active')) lightboxImg.src = currentSet[index];

      viewerImg.onload = () => viewerImg.classList.remove('animate');
     dotContainer.querySelectorAll('.dot')
            .forEach((d,i)=>d.classList.toggle('active', i===index));

      currentName.textContent = nameSet[index];
      prevName.textContent    = nameSet[(index - 1 + nameSet.length) % nameSet.length];
      nextName.textContent    = nameSet[(index + 1) % nameSet.length];
    }, 100);
  }

  /* ---------- 2-F. Carousel buttons ---------- */
  prevBtn.addEventListener('click', () => { index = (index - 1 + currentSet.length) % currentSet.length; updateImage(); });
  nextBtn.addEventListener('click', () => { index = (index + 1) % currentSet.length; updateImage(); });

  prevName.addEventListener('click', () => prevBtn.click());
  nextName.addEventListener('click', () => nextBtn.click());
  currentName.addEventListener('click', updateImage);

  /* ---------- 2-G. Variant switch ---------- */
  const gloveColumn   = document.querySelector('.glove-column');
  gloveColumn.classList.add(currentGlove);

  document.querySelectorAll('input[name="glove"]').forEach(radio => {
    radio.addEventListener('change', () => {
      if (!radio.checked) return;
      currentGlove = radio.value;
      currentSet   = urls[currentGlove];
      nameSet      = gloves[currentGlove];
      index        = 0;
      updateImage();

      gloveColumn.classList.remove('pandora','vice','hedge');
      gloveColumn.classList.add(currentGlove);
    });
  });

  /* ---------- 2-H. Quantity selector ---------- */
  const qtyOptions = document.querySelectorAll('.quantity-option');
  qtyOptions.forEach(opt => {
    opt.addEventListener('click', () => {
      qtyOptions.forEach(o => o.classList.remove('selected'));
      opt.classList.add('selected');
    });
  });

  /* ---------- 2-I. Initial render ---------- */
updateImage();     // paint first image + names
buildDots();       // NEW – render the dot bar
});                // (end of DOMContentLoaded)

// --- Shopify Variant IDs for each glove ---
const VARIANT_IDS = {
  pandora: 'REPLACE_WITH_PANDORA_VARIANT_ID', // e.g. '1234567890'
  vice:    'REPLACE_WITH_VICE_VARIANT_ID',
  hedge:   'REPLACE_WITH_HEDGE_VARIANT_ID'
};

// --- Preorder and Crypto Button Logic ---
document.addEventListener('DOMContentLoaded', function() {
  // Store productId globally for variant lookup
  window.productId = document.querySelector('[id^="ProductJson-"]')?.id?.replace('ProductJson-', '');

  // Preorder button logic
  const preorderBtn = document.querySelector('.btn-preorder');
  const cryptoBtn   = document.querySelector('.btn-crypto');

  preorderBtn && preorderBtn.addEventListener('click', async function(e) {
    e.preventDefault();
    // Get selected variant
    const selectedGlove = document.querySelector('input[name="glove"]:checked').value;
    const variantId = getVariantIdForGlove(selectedGlove);
    // Get quantity
    const qty = parseInt(document.getElementById('qty-value').textContent, 10) || 1;
    if (!variantId) {
      alert('Error: No variant selected.');
      return;
    }
    // Add to cart via Shopify AJAX API
    try {
      await fetch('/cart/add.js', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json', 'Accept': 'application/json' },
        body: JSON.stringify({ id: variantId, quantity: qty })
      });
      window.location.href = '/checkout';
    } catch (err) {
      alert('Could not add to cart. Please try again.');
    }
  });

  // Crypto button logic
  cryptoBtn && cryptoBtn.addEventListener('click', function(e) {
    e.preventDefault();
    window.location.href = '/pages/crypto-payment-confirmation';
  });

  // --- Image gallery logic ---
  let currentIndex = 0;
  let currentGlove = document.querySelector('input[name="glove"]:checked').value;
  const viewerImg = document.getElementById('viewer-img');
  const prevBtn = document.getElementById('prevBtn');
  const nextBtn = document.getElementById('nextBtn');

  function updateGallery() {
    const images = urls[currentGlove];
    if (!images || !images.length) return;
    viewerImg.src = images[currentIndex];
    // Optionally update dots, names, etc.
  }

  prevBtn && prevBtn.addEventListener('click', function() {
    const images = urls[currentGlove];
    currentIndex = (currentIndex - 1 + images.length) % images.length;
    updateGallery();
  });
  nextBtn && nextBtn.addEventListener('click', function() {
    const images = urls[currentGlove];
    currentIndex = (currentIndex + 1) % images.length;
    updateGallery();
  });
  document.querySelectorAll('input[name="glove"]').forEach(radio => {
    radio.addEventListener('change', function() {
      if (!radio.checked) return;
      currentGlove = radio.value;
      currentIndex = 0;
      updateGallery();
    });
  });
  updateGallery();
});

// --- Weapon/Glove image data and captions ---
const GLOVE_IMAGES = {
  pandora: [
    { src: "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/MiamiDarrylFigurine_PandorasBox_1.jpg?v=1750332619", caption: "Pandora's Box Gloves" },
    { src: "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/pandora_fade.jpg?v=1749907926", caption: "AWP | Fade" },
    { src: "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/pandora_arabesque.jpg?v=1749918916", caption: "AK-47 | Gold Arabesque" },
    { src: "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/pandora_hotrod.jpg?v=1749907952", caption: "M4A1-S | Hot Rod" },
    { src: "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/pandora_bluephosphor.jpg?v=1749907839", caption: "M4A1-S | Blue Phosphor" },
    { src: "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/pandora_ruby.jpg?v=1749908644", caption: "★ Karambit | Ruby" },
    { src: "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/pandora_emerald.jpg?v=1749907913", caption: "★ Karambit | Emerald" },
    { src: "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/pandora_sapphire.jpg?v=1750008691", caption: "★ M9 Bayonet | Sapphire" }
  ],
  vice: [
    { src: "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/MiamiDarrylFigurine_ViceGloves_1.jpg?v=1750332554", caption: "Vice Gloves" },
    { src: "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/vice_fade.jpg?v=1749907969", caption: "AWP | Fade" },
    { src: "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/vice_arabesque.jpg?v=1749907724", caption: "AK-47 | Gold Arabesque" },
    { src: "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/vice_hotrod.jpg?v=1749907940", caption: "M4A1-S | Hot Rod" },
    { src: "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/vice_bluephosphor.jpg?v=1749907774", caption: "M4A1-S | Blue Phosphor" },
    { src: "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/vice_ruby.jpg?v=1749907792", caption: "★ Karambit | Ruby" },
    { src: "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/vice_emerald.jpg?v=1749908821", caption: "★ Karambit | Emerald" },
    { src: "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/vice_sapphire.jpg?v=1750008665", caption: "★ M9 Bayonet | Sapphire" }
  ],
  hedge: [
    { src: "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/MiamiDarrylFigurine_HedgeMaze_1.jpg?v=1750332352", caption: "Hedge Maze Gloves" },
    { src: "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/hedge_fade.jpg?v=1749907822", caption: "AWP | Fade" },
    { src: "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/hedge_arabesque.jpg?v=1749907808", caption: "AK-47 | Gold Arabesque" },
    { src: "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/hedge_hotrod.jpg?v=1749908427", caption: "M4A1-S | Hot Rod" },
    { src: "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/hedge_bluephosphor.jpg?v=1749907985", caption: "M4A1-S | Blue Phosphor" },
    { src: "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/hedge_ruby.jpg?v=1749908002", caption: "★ Karambit | Ruby" },
    { src: "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/hedge_emerald.jpg?v=1749908692", caption: "★ Karambit | Emerald" },
    { src: "https://cdn.shopify.com/s/files/1/0745/6482/9415/files/hedge_sapphire.jpg?v=1750008689", caption: "★ M9 Bayonet | Sapphire" }
  ]
};

// --- Gallery logic ---
let currentIndex = 0;
let currentGlove = document.querySelector('input[name="glove"]:checked').value;
const viewerImg = document.getElementById('viewer-img');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');
const imageCaption = document.getElementById('image-caption');

function updateGallery() {
  const images = GLOVE_IMAGES[currentGlove];
  if (!images || !images.length) return;
  viewerImg.src = images[currentIndex].src;
  imageCaption.textContent = images[currentIndex].caption;
}

prevBtn && prevBtn.addEventListener('click', function() {
  const images = GLOVE_IMAGES[currentGlove];
  currentIndex = (currentIndex - 1 + images.length) % images.length;
  updateGallery();
});
nextBtn && nextBtn.addEventListener('click', function() {
  const images = GLOVE_IMAGES[currentGlove];
  currentIndex = (currentIndex + 1) % images.length;
  updateGallery();
});
document.querySelectorAll('input[name="glove"]').forEach(radio => {
  radio.addEventListener('change', function() {
    if (!radio.checked) return;
    currentGlove = radio.value;
    currentIndex = 0;
    updateGallery();
  });
});
updateGallery();
});

{%- if product -%}
<script type="application/json" id="ProductJson-{{ product.id }}">
  {{ product | json }}
</script>
{%- endif -%}


